task :default => [:test]

begin
  require 'jeweler'
  Jeweler::Tasks.new do |gs|
    gs.name     = "exemplor"
    gs.homepage = "http://github.com/quackingduck/exemplor"
    gs.summary  = "A light-weight, low-fi way to provide executable usage examples of your code."
    gs.email    = "myles@myles.id.au"
    gs.authors  = ["Myles Byrne"]
    gs.add_dependency('orderedhash', '>= 0.0.6')
    gs.add_dependency('term-ansicolor', '>= 1.0.3')
  end
  Jeweler::GemcutterTasks.new
rescue LoadError
  puts "Install jeweler to build gem"
end

task :examples do
  if ENV["RUN_CODE_RUN"]
    ruby "-Ilib", "examples.rb"
  else
    ruby "examples.rb"
  end
end

task :test => :examples